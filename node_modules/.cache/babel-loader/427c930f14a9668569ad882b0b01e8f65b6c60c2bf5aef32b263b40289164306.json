{"ast":null,"code":"var _jsxFileName = \"/Users/hanguyen/Desktop/route-builder-ac/src/components/FlightSearch/FlightSearch.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo, useCallback } from 'react';\nimport FlightSearchForm from './FlightSearchForm';\nimport FlightResults from './FlightResults';\nimport { airports } from '../../data/airports';\nimport airlines from '../../data/airlines';\nimport { calculateDistance } from '../../utils/airportUtils';\n\n/**\n * Main FlightSearch component\n * Contains the search form and displays search results\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlightSearch = () => {\n  _s();\n  // Form state\n  const [departure, setDeparture] = useState(null);\n  const [arrival, setArrival] = useState(null);\n  const [selectedAirlines, setSelectedAirlines] = useState([]);\n  const [maxSegments, setMaxSegments] = useState(3);\n\n  // Results state\n  const [searchResults, setSearchResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Memoized data transformations\n  const airportOptions = useMemo(() => airports.map(airport => ({\n    value: airport.IATA,\n    label: `${airport.Name} (${airport.IATA})`\n  })), []);\n\n  /**\n   * Handle search submission\n   */\n  const handleSearch = useCallback(() => {\n    // Reset states\n    setError(null);\n    setSearchResults([]);\n\n    // Validate inputs\n    if (!departure || !arrival) {\n      setError('Please select both departure and arrival airports');\n      return;\n    }\n\n    // Start loading\n    setIsLoading(true);\n\n    // In a real app, we would call an API here\n    // For now, simulate with setTimeout\n    setTimeout(() => {\n      try {\n        // Get distance between airports if available\n        const distance = calculateDistance(departure.value, arrival.value);\n\n        // Filter airlines if any selected\n        const airlinesToUse = selectedAirlines.length > 0 ? selectedAirlines.map(a => a.value) : airlines.slice(0, 5).map(a => a.value);\n\n        // Create mock results\n        const mockResults = airlinesToUse.map(airline => {\n          const airlineInfo = airlines.find(a => a.value === airline);\n          return {\n            id: `${departure.value}-${arrival.value}-${airline}`,\n            airline: airline,\n            airlineName: airlineInfo ? airlineInfo.label.split(' (')[0] : 'Unknown Airline',\n            departureCode: departure.value,\n            arrivalCode: arrival.value,\n            segments: 1,\n            // Simple direct flight for now\n            distance: distance ? Math.round(distance) : 'Unknown',\n            duration: distance ? `${Math.floor(distance / 800)}h ${Math.round(distance % 800 / 13)}m` : 'Unknown'\n          };\n        });\n        setSearchResults(mockResults);\n      } catch (err) {\n        setError('An error occurred while searching for flights');\n        console.error('Search error:', err);\n      } finally {\n        setIsLoading(false);\n      }\n    }, 1000);\n  }, [departure, arrival, selectedAirlines]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-4 max-w-3xl\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-6\",\n      children: \"Flight Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow mb-6\",\n      children: /*#__PURE__*/_jsxDEV(FlightSearchForm, {\n        departure: departure,\n        setDeparture: setDeparture,\n        arrival: arrival,\n        setArrival: setArrival,\n        selectedAirlines: selectedAirlines,\n        setSelectedAirlines: setSelectedAirlines,\n        maxSegments: maxSegments,\n        setMaxSegments: setMaxSegments,\n        airportOptions: airportOptions,\n        airlineOptions: airlines,\n        onSearch: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center my-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this), !isLoading && searchResults.length > 0 && /*#__PURE__*/_jsxDEV(FlightResults, {\n      results: searchResults\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n_s(FlightSearch, \"LVl34n1Raup3jCqRVsokVfMHUkY=\");\n_c = FlightSearch;\nexport default FlightSearch;\nvar _c;\n$RefreshReg$(_c, \"FlightSearch\");","map":{"version":3,"names":["React","useState","useMemo","useCallback","FlightSearchForm","FlightResults","airports","airlines","calculateDistance","jsxDEV","_jsxDEV","FlightSearch","_s","departure","setDeparture","arrival","setArrival","selectedAirlines","setSelectedAirlines","maxSegments","setMaxSegments","searchResults","setSearchResults","isLoading","setIsLoading","error","setError","airportOptions","map","airport","value","IATA","label","Name","handleSearch","setTimeout","distance","airlinesToUse","length","a","slice","mockResults","airline","airlineInfo","find","id","airlineName","split","departureCode","arrivalCode","segments","Math","round","duration","floor","err","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","airlineOptions","onSearch","results","_c","$RefreshReg$"],"sources":["/Users/hanguyen/Desktop/route-builder-ac/src/components/FlightSearch/FlightSearch.jsx"],"sourcesContent":["import React, { useState, useMemo, useCallback } from 'react';\nimport FlightSearchForm from './FlightSearchForm';\nimport FlightResults from './FlightResults';\nimport { airports } from '../../data/airports';\nimport airlines from '../../data/airlines';\nimport { calculateDistance } from '../../utils/airportUtils';\n\n/**\n * Main FlightSearch component\n * Contains the search form and displays search results\n */\nconst FlightSearch = () => {\n  // Form state\n  const [departure, setDeparture] = useState(null);\n  const [arrival, setArrival] = useState(null);\n  const [selectedAirlines, setSelectedAirlines] = useState([]);\n  const [maxSegments, setMaxSegments] = useState(3);\n  \n  // Results state\n  const [searchResults, setSearchResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Memoized data transformations\n  const airportOptions = useMemo(() => airports.map(airport => ({\n    value: airport.IATA,\n    label: `${airport.Name} (${airport.IATA})`\n  })), []);\n\n  /**\n   * Handle search submission\n   */\n  const handleSearch = useCallback(() => {\n    // Reset states\n    setError(null);\n    setSearchResults([]);\n    \n    // Validate inputs\n    if (!departure || !arrival) {\n      setError('Please select both departure and arrival airports');\n      return;\n    }\n    \n    // Start loading\n    setIsLoading(true);\n    \n    // In a real app, we would call an API here\n    // For now, simulate with setTimeout\n    setTimeout(() => {\n      try {\n        // Get distance between airports if available\n        const distance = calculateDistance(departure.value, arrival.value);\n        \n        // Filter airlines if any selected\n        const airlinesToUse = selectedAirlines.length > 0 \n          ? selectedAirlines.map(a => a.value) \n          : airlines.slice(0, 5).map(a => a.value);\n        \n        // Create mock results\n        const mockResults = airlinesToUse.map(airline => {\n          const airlineInfo = airlines.find(a => a.value === airline);\n          return {\n            id: `${departure.value}-${arrival.value}-${airline}`,\n            airline: airline,\n            airlineName: airlineInfo ? airlineInfo.label.split(' (')[0] : 'Unknown Airline',\n            departureCode: departure.value,\n            arrivalCode: arrival.value,\n            segments: 1, // Simple direct flight for now\n            distance: distance ? Math.round(distance) : 'Unknown',\n            duration: distance ? `${Math.floor(distance / 800)}h ${Math.round((distance % 800) / 13)}m` : 'Unknown'\n          };\n        });\n        \n        setSearchResults(mockResults);\n      } catch (err) {\n        setError('An error occurred while searching for flights');\n        console.error('Search error:', err);\n      } finally {\n        setIsLoading(false);\n      }\n    }, 1000);\n  }, [departure, arrival, selectedAirlines]);\n\n  return (\n    <div className=\"container mx-auto p-4 max-w-3xl\">\n      <h1 className=\"text-2xl font-bold mb-6\">Flight Search</h1>\n      \n      {/* Search Form */}\n      <div className=\"bg-white p-4 rounded shadow mb-6\">\n        <FlightSearchForm\n          departure={departure}\n          setDeparture={setDeparture}\n          arrival={arrival}\n          setArrival={setArrival}\n          selectedAirlines={selectedAirlines}\n          setSelectedAirlines={setSelectedAirlines}\n          maxSegments={maxSegments}\n          setMaxSegments={setMaxSegments}\n          airportOptions={airportOptions}\n          airlineOptions={airlines}\n          onSearch={handleSearch}\n        />\n      </div>\n      \n      {/* Error message */}\n      {error && (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\n          {error}\n        </div>\n      )}\n      \n      {/* Loading indicator */}\n      {isLoading && (\n        <div className=\"flex justify-center my-8\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n        </div>\n      )}\n      \n      {/* Results */}\n      {!isLoading && searchResults.length > 0 && (\n        <FlightResults results={searchResults} />\n      )}\n    </div>\n  );\n};\n\nexport default FlightSearch;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}