{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nguyen77\\\\docker-neo4j\\\\route-builder-ac1\\\\src\\\\components\\\\FlightSearch\\\\FlightDetailsModal.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Modal, DatePicker, Input, Spin, Table } from 'antd';\nimport dayjs from 'dayjs';\nimport { getSegmentColumns } from './segmentColumns';\nimport useFlightDetails from './hooks/useFlightDetails';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlightDetailsModal = ({\n  isVisible,\n  currentRoute,\n  onClose\n}) => {\n  _s();\n  const {\n    selectedDates,\n    setSelectedDates,\n    apiKey,\n    setApiKey,\n    segmentDetails,\n    isLoadingSegments,\n    handleDateSearch,\n    resetDetails,\n    columns,\n    selectedFlights\n  } = useFlightDetails(getSegmentColumns);\n  const handleOk = () => {\n    handleDateSearch(currentRoute);\n  };\n  const handleCancel = () => {\n    resetDetails();\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    title: \"Flight Details\",\n    open: isVisible,\n    onOk: handleOk,\n    onCancel: handleCancel,\n    okText: \"Search Flights\",\n    okButtonProps: {\n      disabled: !selectedDates || !apiKey,\n      loading: isLoadingSegments\n    },\n    width: 1500,\n    styles: {\n      body: {\n        padding: '12px',\n        maxWidth: '100%'\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 8\n        },\n        children: \"Select Travel Date:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n        style: {\n          width: '100%'\n        },\n        onChange: setSelectedDates,\n        disabledDate: current => {\n          // Disable dates before today\n          const today = dayjs().startOf('day');\n          // Disable dates more than 330 days in the future (typical airline booking window)\n          const maxDate = today.add(60, 'days');\n          return current && (current < today || current > maxDate);\n        },\n        value: selectedDates\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 8\n        },\n        children: \"API Key:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Enter API key\",\n        value: apiKey,\n        onChange: e => setApiKey(e.target.value),\n        style: {\n          width: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), isLoadingSegments ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        overflowX: 'auto'\n      },\n      children: currentRoute && currentRoute.slice(0, -1).map((from, index) => {\n        const to = currentRoute[index + 1];\n        const routeKey = `${from}-${to}`;\n        const flights = segmentDetails.filter(flight => flight.from === from && flight.to === to);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '24px',\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginBottom: '16px'\n            },\n            children: routeKey\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Table, {\n            dataSource: flights,\n            columns: columns,\n            size: \"small\",\n            rowKey: (record, index) => `${routeKey}-${index}`,\n            sortDirections: ['ascend', 'descend'],\n            style: {\n              width: '100%',\n              tableLayout: 'fixed'\n            },\n            pagination: {\n              defaultPageSize: 10,\n              showSizeChanger: true,\n              showTotal: (total, range) => `${range[0]}-${range[1]} of ${total} flights`,\n              pageSizeOptions: ['10', '20', '50', 'all'],\n              position: ['bottomRight']\n            },\n            locale: {\n              emptyText: 'No flights available'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }, this)]\n        }, routeKey, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        :global(.ant-table) {\n          font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(FlightDetailsModal, \"U5lv8astQSZ5QgaiCf67+4SiPxE=\", false, function () {\n  return [useFlightDetails];\n});\n_c = FlightDetailsModal;\nexport default FlightDetailsModal;\nvar _c;\n$RefreshReg$(_c, \"FlightDetailsModal\");","map":{"version":3,"names":["React","Modal","DatePicker","Input","Spin","Table","dayjs","getSegmentColumns","useFlightDetails","jsxDEV","_jsxDEV","FlightDetailsModal","isVisible","currentRoute","onClose","_s","selectedDates","setSelectedDates","apiKey","setApiKey","segmentDetails","isLoadingSegments","handleDateSearch","resetDetails","columns","selectedFlights","handleOk","handleCancel","title","open","onOk","onCancel","okText","okButtonProps","disabled","loading","width","styles","body","padding","maxWidth","children","style","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","onChange","disabledDate","current","today","startOf","maxDate","add","value","placeholder","e","target","textAlign","overflowX","slice","map","from","index","to","routeKey","flights","filter","flight","dataSource","size","rowKey","record","sortDirections","tableLayout","pagination","defaultPageSize","showSizeChanger","showTotal","total","range","pageSizeOptions","position","locale","emptyText","jsx","_c","$RefreshReg$"],"sources":["C:/Users/nguyen77/docker-neo4j/route-builder-ac1/src/components/FlightSearch/FlightDetailsModal.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Modal, DatePicker, Input, Spin, Table } from 'antd';\r\nimport dayjs from 'dayjs';\r\nimport { getSegmentColumns } from './segmentColumns';\r\nimport useFlightDetails from './hooks/useFlightDetails';\r\n\r\nconst FlightDetailsModal = ({ isVisible, currentRoute, onClose }) => {\r\n  const {\r\n    selectedDates,\r\n    setSelectedDates,\r\n    apiKey,\r\n    setApiKey,\r\n    segmentDetails,\r\n    isLoadingSegments,\r\n    handleDateSearch,\r\n    resetDetails,\r\n    columns,\r\n    selectedFlights,\r\n  } = useFlightDetails(getSegmentColumns);\r\n\r\n  const handleOk = () => {\r\n    handleDateSearch(currentRoute);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    resetDetails();\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Flight Details\"\r\n      open={isVisible}\r\n      onOk={handleOk}\r\n      onCancel={handleCancel}\r\n      okText=\"Search Flights\"\r\n      okButtonProps={{ \r\n        disabled: !selectedDates || !apiKey,\r\n        loading: isLoadingSegments \r\n      }}\r\n      width={1500}\r\n      styles={{\r\n        body: { \r\n          padding: '12px',\r\n          maxWidth: '100%'\r\n        }\r\n      }}\r\n    >\r\n      <div style={{ marginBottom: 16 }}>\r\n        <div style={{ marginBottom: 8 }}>Select Travel Date:</div>\r\n        <DatePicker\r\n          style={{ width: '100%' }}\r\n          onChange={setSelectedDates}\r\n          disabledDate={(current) => {\r\n            // Disable dates before today\r\n            const today = dayjs().startOf('day');\r\n            // Disable dates more than 330 days in the future (typical airline booking window)\r\n            const maxDate = today.add(60, 'days');\r\n            return current && (current < today || current > maxDate);\r\n          }}\r\n          value={selectedDates}\r\n        />\r\n      </div>\r\n      \r\n      <div style={{ marginBottom: 16 }}>\r\n        <div style={{ marginBottom: 8 }}>API Key:</div>\r\n        <Input\r\n          placeholder=\"Enter API key\"\r\n          value={apiKey}\r\n          onChange={(e) => setApiKey(e.target.value)}\r\n          style={{ width: '100%' }}\r\n        />\r\n      </div>\r\n\r\n      {isLoadingSegments ? (\r\n        <div style={{ textAlign: 'center', padding: '20px' }}>\r\n          <Spin />\r\n        </div>\r\n      ) : (\r\n        <div style={{ \r\n          width: '100%',\r\n          overflowX: 'auto'\r\n        }}>\r\n          {currentRoute && currentRoute.slice(0, -1).map((from, index) => {\r\n            const to = currentRoute[index + 1];\r\n            const routeKey = `${from}-${to}`;\r\n            const flights = segmentDetails.filter(flight => \r\n              flight.from === from && flight.to === to\r\n            );\r\n\r\n            return (\r\n              <div key={routeKey} style={{ \r\n                marginBottom: '24px',\r\n                width: '100%'\r\n              }}>\r\n                <h3 style={{ marginBottom: '16px' }}>{routeKey}</h3>\r\n                <Table\r\n                  dataSource={flights}\r\n                  columns={columns}\r\n                  size=\"small\"\r\n                  rowKey={(record, index) => `${routeKey}-${index}`}\r\n                  sortDirections={['ascend', 'descend']}\r\n                  style={{ \r\n                    width: '100%',\r\n                    tableLayout: 'fixed'\r\n                  }}\r\n                  pagination={{\r\n                    defaultPageSize: 10,\r\n                    showSizeChanger: true,\r\n                    showTotal: (total, range) => `${range[0]}-${range[1]} of ${total} flights`,\r\n                    pageSizeOptions: ['10', '20', '50', 'all'],\r\n                    position: ['bottomRight']\r\n                  }}\r\n                  locale={{\r\n                    emptyText: 'No flights available'\r\n                  }}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n\r\n      <style jsx>{`\r\n        :global(.ant-table) {\r\n          font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\r\n        }\r\n      `}</style>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default FlightDetailsModal; "],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,EAAEC,UAAU,EAAEC,KAAK,EAAEC,IAAI,EAAEC,KAAK,QAAQ,MAAM;AAC5D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,iBAAiB,QAAQ,kBAAkB;AACpD,OAAOC,gBAAgB,MAAM,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExD,MAAMC,kBAAkB,GAAGA,CAAC;EAAEC,SAAS;EAAEC,YAAY;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACnE,MAAM;IACJC,aAAa;IACbC,gBAAgB;IAChBC,MAAM;IACNC,SAAS;IACTC,cAAc;IACdC,iBAAiB;IACjBC,gBAAgB;IAChBC,YAAY;IACZC,OAAO;IACPC;EACF,CAAC,GAAGjB,gBAAgB,CAACD,iBAAiB,CAAC;EAEvC,MAAMmB,QAAQ,GAAGA,CAAA,KAAM;IACrBJ,gBAAgB,CAACT,YAAY,CAAC;EAChC,CAAC;EAED,MAAMc,YAAY,GAAGA,CAAA,KAAM;IACzBJ,YAAY,CAAC,CAAC;IACdT,OAAO,CAAC,CAAC;EACX,CAAC;EAED,oBACEJ,OAAA,CAACT,KAAK;IACJ2B,KAAK,EAAC,gBAAgB;IACtBC,IAAI,EAAEjB,SAAU;IAChBkB,IAAI,EAAEJ,QAAS;IACfK,QAAQ,EAAEJ,YAAa;IACvBK,MAAM,EAAC,gBAAgB;IACvBC,aAAa,EAAE;MACbC,QAAQ,EAAE,CAAClB,aAAa,IAAI,CAACE,MAAM;MACnCiB,OAAO,EAAEd;IACX,CAAE;IACFe,KAAK,EAAE,IAAK;IACZC,MAAM,EAAE;MACNC,IAAI,EAAE;QACJC,OAAO,EAAE,MAAM;QACfC,QAAQ,EAAE;MACZ;IACF,CAAE;IAAAC,QAAA,gBAEF/B,OAAA;MAAKgC,KAAK,EAAE;QAAEC,YAAY,EAAE;MAAG,CAAE;MAAAF,QAAA,gBAC/B/B,OAAA;QAAKgC,KAAK,EAAE;UAAEC,YAAY,EAAE;QAAE,CAAE;QAAAF,QAAA,EAAC;MAAmB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC1DrC,OAAA,CAACR,UAAU;QACTwC,KAAK,EAAE;UAAEN,KAAK,EAAE;QAAO,CAAE;QACzBY,QAAQ,EAAE/B,gBAAiB;QAC3BgC,YAAY,EAAGC,OAAO,IAAK;UACzB;UACA,MAAMC,KAAK,GAAG7C,KAAK,CAAC,CAAC,CAAC8C,OAAO,CAAC,KAAK,CAAC;UACpC;UACA,MAAMC,OAAO,GAAGF,KAAK,CAACG,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC;UACrC,OAAOJ,OAAO,KAAKA,OAAO,GAAGC,KAAK,IAAID,OAAO,GAAGG,OAAO,CAAC;QAC1D,CAAE;QACFE,KAAK,EAAEvC;MAAc;QAAA4B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENrC,OAAA;MAAKgC,KAAK,EAAE;QAAEC,YAAY,EAAE;MAAG,CAAE;MAAAF,QAAA,gBAC/B/B,OAAA;QAAKgC,KAAK,EAAE;UAAEC,YAAY,EAAE;QAAE,CAAE;QAAAF,QAAA,EAAC;MAAQ;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC/CrC,OAAA,CAACP,KAAK;QACJqD,WAAW,EAAC,eAAe;QAC3BD,KAAK,EAAErC,MAAO;QACd8B,QAAQ,EAAGS,CAAC,IAAKtC,SAAS,CAACsC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QAC3Cb,KAAK,EAAE;UAAEN,KAAK,EAAE;QAAO;MAAE;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,EAEL1B,iBAAiB,gBAChBX,OAAA;MAAKgC,KAAK,EAAE;QAAEiB,SAAS,EAAE,QAAQ;QAAEpB,OAAO,EAAE;MAAO,CAAE;MAAAE,QAAA,eACnD/B,OAAA,CAACN,IAAI;QAAAwC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,gBAENrC,OAAA;MAAKgC,KAAK,EAAE;QACVN,KAAK,EAAE,MAAM;QACbwB,SAAS,EAAE;MACb,CAAE;MAAAnB,QAAA,EACC5B,YAAY,IAAIA,YAAY,CAACgD,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAK;QAC9D,MAAMC,EAAE,GAAGpD,YAAY,CAACmD,KAAK,GAAG,CAAC,CAAC;QAClC,MAAME,QAAQ,GAAG,GAAGH,IAAI,IAAIE,EAAE,EAAE;QAChC,MAAME,OAAO,GAAG/C,cAAc,CAACgD,MAAM,CAACC,MAAM,IAC1CA,MAAM,CAACN,IAAI,KAAKA,IAAI,IAAIM,MAAM,CAACJ,EAAE,KAAKA,EACxC,CAAC;QAED,oBACEvD,OAAA;UAAoBgC,KAAK,EAAE;YACzBC,YAAY,EAAE,MAAM;YACpBP,KAAK,EAAE;UACT,CAAE;UAAAK,QAAA,gBACA/B,OAAA;YAAIgC,KAAK,EAAE;cAAEC,YAAY,EAAE;YAAO,CAAE;YAAAF,QAAA,EAAEyB;UAAQ;YAAAtB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACpDrC,OAAA,CAACL,KAAK;YACJiE,UAAU,EAAEH,OAAQ;YACpB3C,OAAO,EAAEA,OAAQ;YACjB+C,IAAI,EAAC,OAAO;YACZC,MAAM,EAAEA,CAACC,MAAM,EAAET,KAAK,KAAK,GAAGE,QAAQ,IAAIF,KAAK,EAAG;YAClDU,cAAc,EAAE,CAAC,QAAQ,EAAE,SAAS,CAAE;YACtChC,KAAK,EAAE;cACLN,KAAK,EAAE,MAAM;cACbuC,WAAW,EAAE;YACf,CAAE;YACFC,UAAU,EAAE;cACVC,eAAe,EAAE,EAAE;cACnBC,eAAe,EAAE,IAAI;cACrBC,SAAS,EAAEA,CAACC,KAAK,EAAEC,KAAK,KAAK,GAAGA,KAAK,CAAC,CAAC,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,OAAOD,KAAK,UAAU;cAC1EE,eAAe,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC;cAC1CC,QAAQ,EAAE,CAAC,aAAa;YAC1B,CAAE;YACFC,MAAM,EAAE;cACNC,SAAS,EAAE;YACb;UAAE;YAAAzC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA,GAzBMmB,QAAQ;UAAAtB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA0Bb,CAAC;MAEV,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN,eAEDrC,OAAA;MAAO4E,GAAG;MAAA7C,QAAA,EAAE;AAClB;AACA;AACA;AACA;IAAO;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEZ,CAAC;AAAChC,EAAA,CA5HIJ,kBAAkB;EAAA,QAYlBH,gBAAgB;AAAA;AAAA+E,EAAA,GAZhB5E,kBAAkB;AA8HxB,eAAeA,kBAAkB;AAAC,IAAA4E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}